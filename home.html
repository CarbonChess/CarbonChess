<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<title>Home &ndash; CarbonChess</title>
	<link href="styles/common.css" rel="stylesheet">
	<link href="styles/home.css" rel="stylesheet">
	<script src="scripts/helpers.js"></script>
	<script src="scripts/home.js"></script>
</head>

<body>
	<img id="logo" src="/assets/logo.svg" height="65px" onclick="back()">

	<form id="main" action="/play" method="GET">

		<!-- Main menu -->
		<section id="select-opponent">
			<h2>Select opponent</h2>
			<div class="cards">
				<a class="card big" onclick="showSection('bot')">
					<img src="assets/icons/computer.svg" class="card-image" height="100px">
					<span class="card-heading">Computer</span>
					<span class="card-description">Play against the computer</span>
				</a>
				<a class="card big" onclick="showSection('offline')">
					<img src="assets/icons/offline.svg" class="card-image" height="100px">
					<span class="card-heading">Offline</span>
					<span class="card-description">Play against someone on the same device</span>
				</a>
				<a class="card big" onclick="showSection('online')">
					<img src="assets/icons/online.svg" class="card-image" height="100px">
					<span class="card-heading">Online</span>
					<span class="card-description">Play against someone anywhere in the world</span>
				</a>
			</div>
		</section>

		<!-- Offline -->
		<section id="offline-settings" class="hide">
			<h2>Offline</h2>
			<h3>Game options</h3>
			<div>
				<label class="toggle">
					<strong>Rules</strong>
					<input checked type="checkbox" autocomplete="off" name="rules" onchange="$('#offline-autoflip').disabled=!this.checked">
					<span class="slider"></span>
				</label>
				<label class="toggle" id="offline-autoflip-wrapper">
					<strong>Auto Rotate</strong>
					<input type="checkbox" autocomplete="off" id="offline-autoflip" name="autoflip">
					<span class="slider"></span>
				</label>
			</div>
		</section>

		<!-- Online -->
		<input readonly type="checkbox" name="multiplayer" class="hide">
		<section id="online-settings" class="hide">
			<h2>Online</h2>
			<h3>Game Code</h3>
			<input required type="text" pattern="^\d{5}$" name="gamecode" title="Enter a 5-digit game code"><br>
			<button type="button" onclick="createGameCode();">
				↻ Create
			</button>
		</section>

		<!-- Computer -->
		<input readonly type="checkbox" name="bot" class="hide">
		<input readonly type="text" name="botColour" id="botColour" class="hide">
		<section id="bot-settings" class="hide">
			<h2>Computer</h2>
			<h3>Bot intelligence</h3>
			<div id="bot-intelligence" class="cards">
				<a class="card small" data-level="1">
					<img src="assets/icons/none.svg" class="card-image" height="100px">
					<span class="card-heading">None</span>
					<span class="card-description">Bot plays random moves</span>
				</a>
				<a class="card small hide" data-level="2">
					<img src="assets/icons/march.svg" class="card-image" height="100px">
					<span class="card-heading">March</span>
					<span class="card-description">Bot moves pieces forward</span>
				</a>
				<a class="card small hide" data-level="3">
					<img src="assets/icons/charge.svg" class="card-image" height="100px">
					<span class="card-heading">Charge</span>
					<span class="card-description">Bot prioritises taking pieces</span>
				</a>
				<a class="card small hide" data-level="4">
					<img src="assets/icons/attack.svg" class="card-image" height="100px">
					<span class="card-heading">Attack</span>
					<span class="card-description">Bot takes pieces intelligently</span>
				</a>
				<div style="width:100%">
					<input type="range" autocomplete="off" name="botIntelligence" id="bot-intelligence-level" value="1" min="1" max="4" oninput="updateBotIntelligence();">
					<div id="bot-intelligence-dots">
						<span id="dot-highlighted">•</span> • • •
					</div>
				</div>
			</div>

			<h3>Bot colour</h3>
			<div id="bot-colour" class="cards">
				<a class="card wide selected" onclick="updateSelection(this);$('#botColour').value='random';">
					<span class="card-heading">Random</span>
				</a>
				<a class="card wide" onclick="updateSelection(this);$('#botColour').value='black';">
					<span class="card-heading">Black</span>
				</a>
				<a class="card wide" onclick="updateSelection(this);$('#botColour').value='white';">
					<span class="card-heading">White</span>
				</a>
			</div>
		</section>

		<div style="display: flex;">
			<a href="javascript:back();" id="back" class="card wide hide">
				Back
			</a>
			<button type="submit" id="play" class="card wide hide">
				Play
			</button>
		</div>

	</form>

	<div id="donate">
		<script src="https://ko-fi.com/widgets/widget_2.js"></script>
		<script>kofiwidget2.init('Donate', '#6b93ce', 'Q5Q644C1B');kofiwidget2.draw();</script>
	</div>

	<footer>
		<div>Copyright &copy; 2021 CarbonChess</div>
		<div>Icons by <a href="https://www.freepik.com" title="Freepik">Freepik</a> from <a href="https://www.flaticon.com/" title="Flaticon">Flaticon</a></div>
	</footer>

</body>

</html>
